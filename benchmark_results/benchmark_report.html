<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOM Benchmark Results</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        header {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 30px;
        }
        
        h1 {
            color: #333;
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .subtitle {
            color: #666;
            font-size: 1.1em;
        }
        
        .implementations {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .impl-badge {
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .impl-zig { background: #f9a825; color: white; }
        .impl-chromium { background: #4285f4; color: white; }
        .impl-firefox { background: #ff6611; color: white; }
        .impl-webkit { background: #00aaff; color: white; }
        
        .category {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 30px;
        }
        
        .category h2 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.8em;
        }
        
        .chart-container {
            position: relative;
            height: 400px;
            margin-bottom: 30px;
        }
        
        .stats-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        
        .stats-table th,
        .stats-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }
        
        .stats-table th {
            background: #f5f5f5;
            font-weight: 600;
            color: #333;
        }
        
        .stats-table tr:hover {
            background: #f9f9f9;
        }
        
        .winner {
            font-weight: 600;
            color: #4caf50;
        }
        
        .speedup {
            font-size: 0.9em;
            color: #666;
        }
        
        footer {
            text-align: center;
            color: white;
            padding: 20px;
            opacity: 0.8;
        }
        
        .legend {
            display: flex;
            gap: 20px;
            margin-top: 15px;
            flex-wrap: wrap;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üöÄ DOM Benchmark Results</h1>
            <p class="subtitle">Performance comparison: Zig vs Browser Implementations</p>
            <div class="implementations">
                
                    <div class="impl-badge impl-zig">
                        <span>‚óè</span> Zig
                    </div>
                
                    <div class="impl-badge impl-chromium">
                        <span>‚óè</span> Chromium
                    </div>
                
                    <div class="impl-badge impl-firefox">
                        <span>‚óè</span> Firefox
                    </div>
                
                    <div class="impl-badge impl-webkit">
                        <span>‚óè</span> WebKit
                    </div>
                
            </div>
        </header>
        
        
            <div class="category">
                <h2>Pure Query: ID Lookups</h2>
                <div class="chart-container">
                    <canvas id="chart-0"></canvas>
                </div>
                
                <table class="stats-table">
                    <thead>
                        <tr>
                            <th>Benchmark</th>
                            <th>Zig</th><th>Chromium</th><th>Firefox</th><th>WebKit</th>
                            <th>Winner</th>
                        </tr>
                    </thead>
                    <tbody>
                        
                            <tr>
                                <td><strong>Pure query: getElementById (100 elem)</strong></td>
                                <td>2ns<span class="speedup"></span></td><td>86ns<span class="speedup"> (42.8x slower)</span></td><td>111ns<span class="speedup"> (55.5x slower)</span></td><td>64ns<span class="speedup"> (32.0x slower)</span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                            <tr>
                                <td><strong>Pure query: getElementById (1000 elem)</strong></td>
                                <td>2ns<span class="speedup"></span></td><td>86ns<span class="speedup"> (43.1x slower)</span></td><td>108ns<span class="speedup"> (54.0x slower)</span></td><td>63ns<span class="speedup"> (31.5x slower)</span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                            <tr>
                                <td><strong>Pure query: getElementById (10000 elem)</strong></td>
                                <td>2ns<span class="speedup"></span></td><td>88ns<span class="speedup"> (44.1x slower)</span></td><td>104ns<span class="speedup"> (52.0x slower)</span></td><td>63ns<span class="speedup"> (31.5x slower)</span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                            <tr>
                                <td><strong>Pure query: querySelector #id (100 elem)</strong></td>
                                <td>14ns<span class="speedup"></span></td><td>103ns<span class="speedup"> (7.4x slower)</span></td><td>170ns<span class="speedup"> (12.1x slower)</span></td><td>130ns<span class="speedup"> (9.3x slower)</span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                            <tr>
                                <td><strong>Pure query: querySelector #id (1000 elem)</strong></td>
                                <td>15ns<span class="speedup"></span></td><td>98ns<span class="speedup"> (6.5x slower)</span></td><td>200ns<span class="speedup"> (13.3x slower)</span></td><td>130ns<span class="speedup"> (8.7x slower)</span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                            <tr>
                                <td><strong>Pure query: querySelector #id (10000 elem)</strong></td>
                                <td>15ns<span class="speedup"></span></td><td>98ns<span class="speedup"> (6.5x slower)</span></td><td>180ns<span class="speedup"> (12.0x slower)</span></td><td>130ns<span class="speedup"> (8.7x slower)</span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                    </tbody>
                </table>
            </div>
            
            <div class="category">
                <h2>Pure Query: Tag Lookups</h2>
                <div class="chart-container">
                    <canvas id="chart-1"></canvas>
                </div>
                
                <table class="stats-table">
                    <thead>
                        <tr>
                            <th>Benchmark</th>
                            <th>Zig</th><th>Chromium</th><th>Firefox</th><th>WebKit</th>
                            <th>Winner</th>
                        </tr>
                    </thead>
                    <tbody>
                        
                            <tr>
                                <td><strong>Pure query: getElementsByTagName (100 elem)</strong></td>
                                <td>5ns<span class="speedup"></span></td><td>6¬µs<span class="speedup"> (1113.0x slower)</span></td><td>3¬µs<span class="speedup"> (584.0x slower)</span></td><td>2¬µs<span class="speedup"> (410.0x slower)</span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                            <tr>
                                <td><strong>Pure query: getElementsByTagName (1000 elem)</strong></td>
                                <td>5ns<span class="speedup"></span></td><td>53¬µs<span class="speedup"> (10665.5x slower)</span></td><td>20¬µs<span class="speedup"> (3918.4x slower)</span></td><td>11¬µs<span class="speedup"> (2238.7x slower)</span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                            <tr>
                                <td><strong>Pure query: getElementsByTagName (10000 elem)</strong></td>
                                <td>5ns<span class="speedup"></span></td><td>541¬µs<span class="speedup"> (108263.5x slower)</span></td><td>221¬µs<span class="speedup"> (44179.1x slower)</span></td><td>107¬µs<span class="speedup"> (21336.0x slower)</span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                            <tr>
                                <td><strong>Pure query: querySelector tag (100 elem)</strong></td>
                                <td>13ns<span class="speedup"></span></td><td>204ns<span class="speedup"> (15.7x slower)</span></td><td>270ns<span class="speedup"> (20.8x slower)</span></td><td>230ns<span class="speedup"> (17.7x slower)</span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                            <tr>
                                <td><strong>Pure query: querySelector tag (1000 elem)</strong></td>
                                <td>14ns<span class="speedup"></span></td><td>2¬µs<span class="speedup"> (114.4x slower)</span></td><td>2¬µs<span class="speedup"> (109.3x slower)</span></td><td>1¬µs<span class="speedup"> (86.4x slower)</span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                            <tr>
                                <td><strong>Pure query: querySelector tag (10000 elem)</strong></td>
                                <td>18ns<span class="speedup"></span></td><td>17¬µs<span class="speedup"> (920.4x slower)</span></td><td>13¬µs<span class="speedup"> (718.3x slower)</span></td><td>19¬µs<span class="speedup"> (1067.1x slower)</span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                    </tbody>
                </table>
            </div>
            
            <div class="category">
                <h2>Pure Query: Class Lookups</h2>
                <div class="chart-container">
                    <canvas id="chart-2"></canvas>
                </div>
                
                <table class="stats-table">
                    <thead>
                        <tr>
                            <th>Benchmark</th>
                            <th>Zig</th><th>Chromium</th><th>Firefox</th><th>WebKit</th>
                            <th>Winner</th>
                        </tr>
                    </thead>
                    <tbody>
                        
                            <tr>
                                <td><strong>Pure query: getElementsByClassName (100 elem)</strong></td>
                                <td>5ns<span class="speedup"></span></td><td>5¬µs<span class="speedup"> (1091.1x slower)</span></td><td>2¬µs<span class="speedup"> (472.0x slower)</span></td><td>2¬µs<span class="speedup"> (322.0x slower)</span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                            <tr>
                                <td><strong>Pure query: getElementsByClassName (1000 elem)</strong></td>
                                <td>5ns<span class="speedup"></span></td><td>57¬µs<span class="speedup"> (11478.9x slower)</span></td><td>21¬µs<span class="speedup"> (4118.8x slower)</span></td><td>11¬µs<span class="speedup"> (2119.8x slower)</span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                            <tr>
                                <td><strong>Pure query: getElementsByClassName (10000 elem)</strong></td>
                                <td>5ns<span class="speedup"></span></td><td>542¬µs<span class="speedup"> (108437.8x slower)</span></td><td>197¬µs<span class="speedup"> (39324.7x slower)</span></td><td>101¬µs<span class="speedup"> (20139.6x slower)</span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                            <tr>
                                <td><strong>Pure query: querySelector .class (100 elem)</strong></td>
                                <td>15ns<span class="speedup"></span></td><td>88ns<span class="speedup"> (5.9x slower)</span></td><td>150ns<span class="speedup"> (10.0x slower)</span></td><td>120ns<span class="speedup"> (8.0x slower)</span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                            <tr>
                                <td><strong>Pure query: querySelector .class (1000 elem)</strong></td>
                                <td>15ns<span class="speedup"></span></td><td>86ns<span class="speedup"> (5.7x slower)</span></td><td>160ns<span class="speedup"> (10.7x slower)</span></td><td>110ns<span class="speedup"> (7.3x slower)</span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                            <tr>
                                <td><strong>Pure query: querySelector .class (10000 elem)</strong></td>
                                <td>15ns<span class="speedup"></span></td><td>86ns<span class="speedup"> (5.7x slower)</span></td><td>180ns<span class="speedup"> (12.0x slower)</span></td><td>120ns<span class="speedup"> (8.0x slower)</span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                    </tbody>
                </table>
            </div>
            
            <div class="category">
                <h2>Complex Selectors</h2>
                <div class="chart-container">
                    <canvas id="chart-3"></canvas>
                </div>
                
                <table class="stats-table">
                    <thead>
                        <tr>
                            <th>Benchmark</th>
                            <th>Zig</th><th>Chromium</th><th>Firefox</th><th>WebKit</th>
                            <th>Winner</th>
                        </tr>
                    </thead>
                    <tbody>
                        
                            <tr>
                                <td><strong>Complex: Child combinator (div > p)</strong></td>
                                <td>54ns<span class="speedup"></span></td><td>122ns<span class="speedup"> (2.3x slower)</span></td><td>190ns<span class="speedup"> (3.5x slower)</span></td><td>120ns<span class="speedup"> (2.2x slower)</span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                            <tr>
                                <td><strong>Complex: Descendant combinator (article p)</strong></td>
                                <td>73ns<span class="speedup"></span></td><td>143ns<span class="speedup"> (2.0x slower)</span></td><td>220ns<span class="speedup"> (3.0x slower)</span></td><td>120ns<span class="speedup"> (1.6x slower)</span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                            <tr>
                                <td><strong>Complex: Adjacent sibling (h1 + p)</strong></td>
                                <td>34ns<span class="speedup"></span></td><td>122ns<span class="speedup"> (3.6x slower)</span></td><td>190ns<span class="speedup"> (5.6x slower)</span></td><td>120ns<span class="speedup"> (3.5x slower)</span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                            <tr>
                                <td><strong>Complex: Type + class (div.active)</strong></td>
                                <td>25ns<span class="speedup"></span></td><td>108ns<span class="speedup"> (4.3x slower)</span></td><td>190ns<span class="speedup"> (7.6x slower)</span></td><td>110ns<span class="speedup"> (4.4x slower)</span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                            <tr>
                                <td><strong>Complex: Attribute selector (div[data-id])</strong></td>
                                <td>27¬µs<span class="speedup"> (11.9x slower)</span></td><td>13¬µs<span class="speedup"> (5.7x slower)</span></td><td>12¬µs<span class="speedup"> (5.4x slower)</span></td><td>2¬µs<span class="speedup"></span></td>
                                <td class="winner">WebKit</td>
                            </tr>
                            
                            <tr>
                                <td><strong>Complex: Multi-component (article#main > header h1.title)</strong></td>
                                <td>97ns<span class="speedup"></span></td><td>152ns<span class="speedup"> (1.6x slower)</span></td><td>340ns<span class="speedup"> (3.5x slower)</span></td><td>130ns<span class="speedup"> (1.3x slower)</span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                    </tbody>
                </table>
            </div>
            
            <div class="category">
                <h2>DOM Construction</h2>
                <div class="chart-container">
                    <canvas id="chart-4"></canvas>
                </div>
                
                <table class="stats-table">
                    <thead>
                        <tr>
                            <th>Benchmark</th>
                            <th>Zig</th><th>Chromium</th><th>Firefox</th><th>WebKit</th>
                            <th>Winner</th>
                        </tr>
                    </thead>
                    <tbody>
                        
                            <tr>
                                <td><strong>DOM construction: Small (100 elem)</strong></td>
                                <td>34¬µs<span class="speedup"> (2.7x slower)</span></td><td>13¬µs<span class="speedup"></span></td><td>25¬µs<span class="speedup"> (2.0x slower)</span></td><td>23¬µs<span class="speedup"> (1.8x slower)</span></td>
                                <td class="winner">Chromium</td>
                            </tr>
                            
                            <tr>
                                <td><strong>DOM construction: Medium (1000 elem)</strong></td>
                                <td>224¬µs<span class="speedup"> (1.6x slower)</span></td><td>143¬µs<span class="speedup"></span></td><td>279¬µs<span class="speedup"> (2.0x slower)</span></td><td>258¬µs<span class="speedup"> (1.8x slower)</span></td>
                                <td class="winner">Chromium</td>
                            </tr>
                            
                            <tr>
                                <td><strong>DOM construction: Large (10000 elem)</strong></td>
                                <td>10ms<span class="speedup"> (8.1x slower)</span></td><td>1ms<span class="speedup"></span></td><td>3ms<span class="speedup"> (2.3x slower)</span></td><td>2ms<span class="speedup"> (1.9x slower)</span></td>
                                <td class="winner">Chromium</td>
                            </tr>
                            
                    </tbody>
                </table>
            </div>
            
            <div class="category">
                <h2>Full Benchmarks (Construction + Query)</h2>
                <div class="chart-container">
                    <canvas id="chart-5"></canvas>
                </div>
                
                <table class="stats-table">
                    <thead>
                        <tr>
                            <th>Benchmark</th>
                            <th>Zig</th><th>Chromium</th><th>Firefox</th><th>WebKit</th>
                            <th>Winner</th>
                        </tr>
                    </thead>
                    <tbody>
                        
                            <tr>
                                <td><strong>querySelector: Small DOM (100)</strong></td>
                                <td>55¬µs<span class="speedup"> (3.4x slower)</span></td><td>16¬µs<span class="speedup"></span></td><td>39¬µs<span class="speedup"> (2.4x slower)</span></td><td>21¬µs<span class="speedup"> (1.3x slower)</span></td>
                                <td class="winner">Chromium</td>
                            </tr>
                            
                            <tr>
                                <td><strong>querySelector: Medium DOM (1000)</strong></td>
                                <td>235¬µs<span class="speedup"> (1.6x slower)</span></td><td>150¬µs<span class="speedup"></span></td><td>302¬µs<span class="speedup"> (2.0x slower)</span></td><td>226¬µs<span class="speedup"> (1.5x slower)</span></td>
                                <td class="winner">Chromium</td>
                            </tr>
                            
                            <tr>
                                <td><strong>querySelector: Large DOM (10000)</strong></td>
                                <td>10ms<span class="speedup"> (7.1x slower)</span></td><td>1ms<span class="speedup"></span></td><td>3ms<span class="speedup"> (2.3x slower)</span></td><td>2ms<span class="speedup"> (1.3x slower)</span></td>
                                <td class="winner">Chromium</td>
                            </tr>
                            
                            <tr>
                                <td><strong>querySelector: Class selector</strong></td>
                                <td>221¬µs<span class="speedup"> (1.5x slower)</span></td><td>150¬µs<span class="speedup"></span></td><td>286¬µs<span class="speedup"> (1.9x slower)</span></td><td>184¬µs<span class="speedup"> (1.2x slower)</span></td>
                                <td class="winner">Chromium</td>
                            </tr>
                            
                            <tr>
                                <td><strong>getElementById: Small DOM (100)</strong></td>
                                <td>43¬µs<span class="speedup"> (3.1x slower)</span></td><td>14¬µs<span class="speedup"></span></td><td>25¬µs<span class="speedup"> (1.8x slower)</span></td><td>23¬µs<span class="speedup"> (1.6x slower)</span></td>
                                <td class="winner">Chromium</td>
                            </tr>
                            
                            <tr>
                                <td><strong>getElementById: Medium DOM (1000)</strong></td>
                                <td>209¬µs<span class="speedup"> (1.4x slower)</span></td><td>145¬µs<span class="speedup"></span></td><td>309¬µs<span class="speedup"> (2.1x slower)</span></td><td>224¬µs<span class="speedup"> (1.5x slower)</span></td>
                                <td class="winner">Chromium</td>
                            </tr>
                            
                            <tr>
                                <td><strong>getElementById: Large DOM (10000)</strong></td>
                                <td>10ms<span class="speedup"> (7.0x slower)</span></td><td>1ms<span class="speedup"></span></td><td>3ms<span class="speedup"> (2.3x slower)</span></td><td>2ms<span class="speedup"> (1.5x slower)</span></td>
                                <td class="winner">Chromium</td>
                            </tr>
                            
                    </tbody>
                </table>
            </div>
            
            <div class="category">
                <h2>SPA Patterns</h2>
                <div class="chart-container">
                    <canvas id="chart-6"></canvas>
                </div>
                
                <table class="stats-table">
                    <thead>
                        <tr>
                            <th>Benchmark</th>
                            <th>Zig</th><th>Chromium</th><th>Firefox</th><th>WebKit</th>
                            <th>Winner</th>
                        </tr>
                    </thead>
                    <tbody>
                        
                            <tr>
                                <td><strong>SPA: Repeated queries (1000x)</strong></td>
                                <td>92¬µs<span class="speedup"> (1.7x slower)</span></td><td>54¬µs<span class="speedup"></span></td><td>130¬µs<span class="speedup"> (2.4x slower)</span></td><td>124¬µs<span class="speedup"> (2.3x slower)</span></td>
                                <td class="winner">Chromium</td>
                            </tr>
                            
                            <tr>
                                <td><strong>SPA: Cold vs Hot cache (100x)</strong></td>
                                <td>498¬µs<span class="speedup"> (2.4x slower)</span></td><td>207¬µs<span class="speedup"></span></td><td>500¬µs<span class="speedup"> (2.4x slower)</span></td><td>343¬µs<span class="speedup"> (1.7x slower)</span></td>
                                <td class="winner">Chromium</td>
                            </tr>
                            
                    </tbody>
                </table>
            </div>
            
        
        <footer>
            <p>Generated: 10/17/2025, 8:11:06 PM</p>
            <p>Zig DOM Implementation - Benchmark Report</p>
        </footer>
    </div>
    
    <script>
        const implementations = ["Zig","Chromium","Firefox","WebKit"];
        const colors = {
            'Zig': '#f9a825',
            'Chromium': '#4285f4',
            'Firefox': '#ff6611',
            'WebKit': '#00aaff'
        };
        
        const chartData = [{"category":"Pure Query: ID Lookups","benchmarks":[{"name":"Pure query: getElementById (100 elem)","data":[2,85.59957190677304,110.999778000444,63.99987200025623]},{"name":"Pure query: getElementById (1000 elem)","data":[2,86.29991365240264,107.999568001728,62.99955900308675]},{"name":"Pure query: getElementById (10000 elem)","data":[2,88.29999995231628,103.99958400166399,62.99987400025223]},{"name":"Pure query: querySelector #id (100 elem)","data":[14,102.99176018234826,169.98470137687607,129.9922004679719]},{"name":"Pure query: querySelector #id (1000 elem)","data":[15,97.99118031693432,199.9860009799314,130]},{"name":"Pure query: querySelector #id (10000 elem)","data":[15,97.99999952316284,179.99640007199855,129.9922004679719]}]},{"category":"Pure Query: Tag Lookups","benchmarks":[{"name":"Pure query: getElementsByTagName (100 elem)","data":[5,5564.944350556494,2920,2050.0000000000023]},{"name":"Pure query: getElementsByTagName (1000 elem)","data":[5,53327.338134260965,19592.1631347461,11193.284029582273]},{"name":"Pure query: getElementsByTagName (10000 elem)","data":[5,541317.3651266955,220895.5223880597,106679.96011964086]},{"name":"Pure query: querySelector tag (100 elem)","data":[13,203.9918388959327,269.9784017278618,229.99999999999773]},{"name":"Pure query: querySelector tag (1000 elem)","data":[14,1600.9199554327397,1529.9082055076694,1209.9637010889674]},{"name":"Pure query: querySelector tag (10000 elem)","data":[18,16567.840252136026,12929.741405171895,19208.655394122416]}]},{"category":"Pure Query: Class Lookups","benchmarks":[{"name":"Pure query: getElementsByClassName (100 elem)","data":[5,5455.727215069757,2359.8584084954905,1609.8551130398312]},{"name":"Pure query: getElementsByClassName (1000 elem)","data":[5,57394.26057394261,20593.821853443966,10598.9401059894]},{"name":"Pure query: getElementsByClassName (10000 elem)","data":[5,542189.0548212611,196623.63455809333,100697.90628115654]},{"name":"Pure query: querySelector .class (100 elem)","data":[15,87.99911953196752,149.99100053996762,119.9940002999941]},{"name":"Pure query: querySelector .class (1000 elem)","data":[15,86.00000143051147,159.99520014399567,109.99120070394369]},{"name":"Pure query: querySelector .class (10000 elem)","data":[15,85.99913905493513,179.99280028798847,119.99520019199231]}]},{"category":"Complex Selectors","benchmarks":[{"name":"Complex: Child combinator (div > p)","data":[54,122.00000047683716,189.99620007599847,119.99040076793857]},{"name":"Complex: Descendant combinator (article p)","data":[73,142.99571203598757,219.99560008799824,120]},{"name":"Complex: Adjacent sibling (h1 + p)","data":[34,121.99024125753657,189.99050047497624,119.99640010799676]},{"name":"Complex: Type + class (div.active)","data":[25,108.00000190734863,189.99050047497624,109.99450027498625]},{"name":"Complex: Attribute selector (div[data-id])","data":[27000,12979.740405191897,12249.265044097354,2259.819214462843]},{"name":"Complex: Multi-component (article#main > header h1.title)","data":[97,152.00000047683716,339.99320013599726,129.99610011699647]}]},{"category":"DOM Construction","benchmarks":[{"name":"DOM construction: Small (100 elem)","data":[34000,12700.000047683716,24925.224327018943,22840.119165840028]},{"name":"DOM construction: Medium (1000 elem)","data":[224000,142757.93660254704,279162.5124626121,258225.32402791627]},{"name":"DOM construction: Large (10000 elem)","data":[10000000,1241121.4948814607,2886792.452830189,2326923.076923077]}]},{"category":"Full Benchmarks (Construction + Query)","benchmarks":[{"name":"querySelector: Small DOM (100)","data":[55000,16087.388329378071,38690.47619047619,20854.021847070508]},{"name":"querySelector: Medium DOM (1000)","data":[235000,149552.23875852366,302395.20958083833,225774.22577422575]},{"name":"querySelector: Large DOM (10000)","data":[10000000,1410999.9990463257,3194174.7572815535,1834862.385321101]},{"name":"querySelector: Class selector","data":[221000,149551.34596211367,285572.1393034826,183632.73453093812]},{"name":"getElementById: Small DOM (100)","data":[43000,13930.348258706468,24975.024975024975,22862.82306163022]},{"name":"getElementById: Medium DOM (1000)","data":[209000,144555.44460308066,309000,223552.89421157684]},{"name":"getElementById: Large DOM (10000)","data":[10000000,1422772.2753392588,3214953.271028037,2156862.745098039]}]},{"category":"SPA Patterns","benchmarks":[{"name":"SPA: Repeated queries (1000x)","data":[92000,54083.66529115167,130478.08764940238,123885.03468780972]},{"name":"SPA: Cold vs Hot cache (100x)","data":[498000,206930.69401353892,500000,342592.59259259264]}]},{"category":"Internal Components","benchmarks":[]}];
        
        // Create charts
        chartData.forEach((category, index) => {
            if (category.benchmarks.length === 0) return;
            
            const ctx = document.getElementById(`chart-${index}`);
            
            const datasets = implementations.map((impl, i) => ({
                label: impl,
                data: category.benchmarks.map(b => b.data[i]),
                backgroundColor: colors[impl] || `hsl(${i * 60}, 70%, 60%)`,
                borderColor: colors[impl] || `hsl(${i * 60}, 70%, 50%)`,
                borderWidth: 2
            }));
            
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: category.benchmarks.map(b => b.name.replace(/Pure query: /, '').replace(/ \(\d+ elem\)/, '')),
                    datasets: datasets
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: false
                        },
                        legend: {
                            position: 'top',
                            labels: {
                                font: {
                                    size: 12,
                                    weight: 600
                                },
                                padding: 15
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let value = context.parsed.y;
                                    if (value === null) return '';
                                    
                                    let display;
                                    if (value < 1000) {
                                        display = Math.round(value) + 'ns';
                                    } else if (value < 1000000) {
                                        display = Math.round(value / 1000) + '¬µs';
                                    } else {
                                        display = Math.round(value / 1000000) + 'ms';
                                    }
                                    
                                    return context.dataset.label + ': ' + display;
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            type: 'logarithmic',
                            title: {
                                display: true,
                                text: 'Time per Operation (ns, log scale)',
                                font: {
                                    size: 14,
                                    weight: 600
                                }
                            },
                            ticks: {
                                callback: function(value) {
                                    if (value < 1000) return value + 'ns';
                                    if (value < 1000000) return (value / 1000) + '¬µs';
                                    return (value / 1000000) + 'ms';
                                }
                            }
                        },
                        x: {
                            ticks: {
                                font: {
                                    size: 11
                                }
                            }
                        }
                    }
                }
            });
        });
    </script>
</body>
</html>