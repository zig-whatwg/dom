<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOM Benchmark Results</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        header {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 30px;
        }
        
        h1 {
            color: #333;
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .subtitle {
            color: #666;
            font-size: 1.1em;
        }
        
        .implementations {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .impl-badge {
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .impl-zig { background: #f9a825; color: white; }
        .impl-chromium { background: #4285f4; color: white; }
        .impl-firefox { background: #ff6611; color: white; }
        .impl-webkit { background: #00aaff; color: white; }
        
        .category {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 30px;
        }
        
        .category h2 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.8em;
        }
        
        .chart-container {
            position: relative;
            height: 400px;
            margin-bottom: 30px;
        }
        
        .stats-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        
        .stats-table th,
        .stats-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }
        
        .stats-table th {
            background: #f5f5f5;
            font-weight: 600;
            color: #333;
        }
        
        .stats-table tr:hover {
            background: #f9f9f9;
        }
        
        .winner {
            font-weight: 600;
            color: #4caf50;
        }
        
        .speedup {
            font-size: 0.9em;
            color: #666;
        }
        
        footer {
            text-align: center;
            color: white;
            padding: 20px;
            opacity: 0.8;
        }
        
        .legend {
            display: flex;
            gap: 20px;
            margin-top: 15px;
            flex-wrap: wrap;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üöÄ DOM Benchmark Results</h1>
            <p class="subtitle">Performance comparison: Zig vs Browser Implementations</p>
            <div class="implementations">
                
                    <div class="impl-badge impl-zig">
                        <span>‚óè</span> Zig
                    </div>
                
            </div>
        </header>
        
        
            <div class="category">
                <h2>ID Queries</h2>
                <div class="chart-container">
                    <canvas id="chart-0"></canvas>
                </div>
                
                <table class="stats-table">
                    <thead>
                        <tr>
                            <th>Benchmark</th>
                            <th>Zig</th>
                            <th>Winner</th>
                        </tr>
                    </thead>
                    <tbody>
                        
                            <tr>
                                <td><strong>getElementById: Small DOM (100)</strong></td>
                                <td>63¬µs<span class="speedup"></span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                            <tr>
                                <td><strong>getElementById: Medium DOM (1000)</strong></td>
                                <td>340¬µs<span class="speedup"></span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                            <tr>
                                <td><strong>getElementById: Large DOM (10000)</strong></td>
                                <td>11ms<span class="speedup"></span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                            <tr>
                                <td><strong>Pure query: getElementById (100 elem)</strong></td>
                                <td>5ns<span class="speedup"></span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                            <tr>
                                <td><strong>Pure query: getElementById (1000 elem)</strong></td>
                                <td>5ns<span class="speedup"></span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                            <tr>
                                <td><strong>Pure query: getElementById (10000 elem)</strong></td>
                                <td>5ns<span class="speedup"></span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                            <tr>
                                <td><strong>Pure query: querySelector #id (100 elem)</strong></td>
                                <td>13ns<span class="speedup"></span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                            <tr>
                                <td><strong>Pure query: querySelector #id (1000 elem)</strong></td>
                                <td>13ns<span class="speedup"></span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                            <tr>
                                <td><strong>Pure query: querySelector #id (10000 elem)</strong></td>
                                <td>13ns<span class="speedup"></span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                    </tbody>
                </table>
            </div>
            
            <div class="category">
                <h2>Tag Queries</h2>
                <div class="chart-container">
                    <canvas id="chart-1"></canvas>
                </div>
                
                <table class="stats-table">
                    <thead>
                        <tr>
                            <th>Benchmark</th>
                            <th>Zig</th>
                            <th>Winner</th>
                        </tr>
                    </thead>
                    <tbody>
                        
                            <tr>
                                <td><strong>Pure query: getElementsByTagName (100 elem)</strong></td>
                                <td>5¬µs<span class="speedup"></span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                            <tr>
                                <td><strong>Pure query: getElementsByTagName (1000 elem)</strong></td>
                                <td>5¬µs<span class="speedup"></span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                            <tr>
                                <td><strong>Pure query: getElementsByTagName (10000 elem)</strong></td>
                                <td>7¬µs<span class="speedup"></span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                            <tr>
                                <td><strong>Pure query: querySelector tag (100 elem)</strong></td>
                                <td>15ns<span class="speedup"></span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                            <tr>
                                <td><strong>Pure query: querySelector tag (1000 elem)</strong></td>
                                <td>15ns<span class="speedup"></span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                            <tr>
                                <td><strong>Pure query: querySelector tag (10000 elem)</strong></td>
                                <td>15ns<span class="speedup"></span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                    </tbody>
                </table>
            </div>
            
            <div class="category">
                <h2>Class Queries</h2>
                <div class="chart-container">
                    <canvas id="chart-2"></canvas>
                </div>
                
                <table class="stats-table">
                    <thead>
                        <tr>
                            <th>Benchmark</th>
                            <th>Zig</th>
                            <th>Winner</th>
                        </tr>
                    </thead>
                    <tbody>
                        
                            <tr>
                                <td><strong>Pure query: getElementsByClassName (100 elem)</strong></td>
                                <td>5¬µs<span class="speedup"></span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                            <tr>
                                <td><strong>Pure query: getElementsByClassName (1000 elem)</strong></td>
                                <td>5¬µs<span class="speedup"></span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                            <tr>
                                <td><strong>Pure query: getElementsByClassName (10000 elem)</strong></td>
                                <td>7¬µs<span class="speedup"></span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                            <tr>
                                <td><strong>Pure query: querySelector .class (100 elem)</strong></td>
                                <td>14ns<span class="speedup"></span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                            <tr>
                                <td><strong>Pure query: querySelector .class (1000 elem)</strong></td>
                                <td>13ns<span class="speedup"></span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                            <tr>
                                <td><strong>Pure query: querySelector .class (10000 elem)</strong></td>
                                <td>14ns<span class="speedup"></span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                    </tbody>
                </table>
            </div>
            
            <div class="category">
                <h2>Complex Queries</h2>
                <div class="chart-container">
                    <canvas id="chart-3"></canvas>
                </div>
                
                <table class="stats-table">
                    <thead>
                        <tr>
                            <th>Benchmark</th>
                            <th>Zig</th>
                            <th>Winner</th>
                        </tr>
                    </thead>
                    <tbody>
                        
                            <tr>
                                <td><strong>Tokenizer: Simple ID (#main)</strong></td>
                                <td>6¬µs<span class="speedup"></span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                            <tr>
                                <td><strong>Tokenizer: Simple Class (.button)</strong></td>
                                <td>5¬µs<span class="speedup"></span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                            <tr>
                                <td><strong>Tokenizer: Complex</strong></td>
                                <td>12¬µs<span class="speedup"></span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                            <tr>
                                <td><strong>Parser: Simple ID (#main)</strong></td>
                                <td>12¬µs<span class="speedup"></span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                            <tr>
                                <td><strong>Parser: Simple Class (.button)</strong></td>
                                <td>12¬µs<span class="speedup"></span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                            <tr>
                                <td><strong>Parser: Complex</strong></td>
                                <td>18¬µs<span class="speedup"></span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                            <tr>
                                <td><strong>Matcher: Simple ID</strong></td>
                                <td>20¬µs<span class="speedup"></span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                            <tr>
                                <td><strong>Matcher: Simple Class</strong></td>
                                <td>22¬µs<span class="speedup"></span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                            <tr>
                                <td><strong>querySelector: Small DOM (100)</strong></td>
                                <td>36¬µs<span class="speedup"></span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                            <tr>
                                <td><strong>querySelector: Medium DOM (1000)</strong></td>
                                <td>221¬µs<span class="speedup"></span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                            <tr>
                                <td><strong>querySelector: Large DOM (10000)</strong></td>
                                <td>10ms<span class="speedup"></span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                            <tr>
                                <td><strong>querySelector: Class selector</strong></td>
                                <td>228¬µs<span class="speedup"></span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                            <tr>
                                <td><strong>SPA: Repeated queries (1000x)</strong></td>
                                <td>184¬µs<span class="speedup"></span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                            <tr>
                                <td><strong>SPA: Cold vs Hot cache (100x)</strong></td>
                                <td>530¬µs<span class="speedup"></span></td>
                                <td class="winner">Zig</td>
                            </tr>
                            
                    </tbody>
                </table>
            </div>
            
        
        <footer>
            <p>Generated: 10/17/2025, 2:59:31 PM</p>
            <p>Zig DOM Implementation - Benchmark Report</p>
        </footer>
    </div>
    
    <script>
        const implementations = ["Zig"];
        const colors = {
            'Zig': '#f9a825',
            'Chromium': '#4285f4',
            'Firefox': '#ff6611',
            'WebKit': '#00aaff'
        };
        
        const chartData = [{"category":"ID Queries","benchmarks":[{"name":"getElementById: Small DOM (100)","data":[63000]},{"name":"getElementById: Medium DOM (1000)","data":[340000]},{"name":"getElementById: Large DOM (10000)","data":[11000000]},{"name":"Pure query: getElementById (100 elem)","data":[5]},{"name":"Pure query: getElementById (1000 elem)","data":[5]},{"name":"Pure query: getElementById (10000 elem)","data":[5]},{"name":"Pure query: querySelector #id (100 elem)","data":[13]},{"name":"Pure query: querySelector #id (1000 elem)","data":[13]},{"name":"Pure query: querySelector #id (10000 elem)","data":[13]}]},{"category":"Tag Queries","benchmarks":[{"name":"Pure query: getElementsByTagName (100 elem)","data":[5000]},{"name":"Pure query: getElementsByTagName (1000 elem)","data":[5000]},{"name":"Pure query: getElementsByTagName (10000 elem)","data":[7000]},{"name":"Pure query: querySelector tag (100 elem)","data":[15]},{"name":"Pure query: querySelector tag (1000 elem)","data":[15]},{"name":"Pure query: querySelector tag (10000 elem)","data":[15]}]},{"category":"Class Queries","benchmarks":[{"name":"Pure query: getElementsByClassName (100 elem)","data":[5000]},{"name":"Pure query: getElementsByClassName (1000 elem)","data":[5000]},{"name":"Pure query: getElementsByClassName (10000 elem)","data":[7000]},{"name":"Pure query: querySelector .class (100 elem)","data":[14]},{"name":"Pure query: querySelector .class (1000 elem)","data":[13]},{"name":"Pure query: querySelector .class (10000 elem)","data":[14]}]},{"category":"Complex Queries","benchmarks":[{"name":"Tokenizer: Simple ID (#main)","data":[6000]},{"name":"Tokenizer: Simple Class (.button)","data":[5000]},{"name":"Tokenizer: Complex","data":[12000]},{"name":"Parser: Simple ID (#main)","data":[12000]},{"name":"Parser: Simple Class (.button)","data":[12000]},{"name":"Parser: Complex","data":[18000]},{"name":"Matcher: Simple ID","data":[20000]},{"name":"Matcher: Simple Class","data":[22000]},{"name":"querySelector: Small DOM (100)","data":[36000]},{"name":"querySelector: Medium DOM (1000)","data":[221000]},{"name":"querySelector: Large DOM (10000)","data":[10000000]},{"name":"querySelector: Class selector","data":[228000]},{"name":"SPA: Repeated queries (1000x)","data":[184000]},{"name":"SPA: Cold vs Hot cache (100x)","data":[530000]}]}];
        
        // Create charts
        chartData.forEach((category, index) => {
            if (category.benchmarks.length === 0) return;
            
            const ctx = document.getElementById(`chart-${index}`);
            
            const datasets = implementations.map((impl, i) => ({
                label: impl,
                data: category.benchmarks.map(b => b.data[i]),
                backgroundColor: colors[impl] || `hsl(${i * 60}, 70%, 60%)`,
                borderColor: colors[impl] || `hsl(${i * 60}, 70%, 50%)`,
                borderWidth: 2
            }));
            
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: category.benchmarks.map(b => b.name.replace(/Pure query: /, '').replace(/ \(\d+ elem\)/, '')),
                    datasets: datasets
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: false
                        },
                        legend: {
                            position: 'top',
                            labels: {
                                font: {
                                    size: 12,
                                    weight: 600
                                },
                                padding: 15
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let value = context.parsed.y;
                                    if (value === null) return '';
                                    
                                    let display;
                                    if (value < 1000) {
                                        display = Math.round(value) + 'ns';
                                    } else if (value < 1000000) {
                                        display = Math.round(value / 1000) + '¬µs';
                                    } else {
                                        display = Math.round(value / 1000000) + 'ms';
                                    }
                                    
                                    return context.dataset.label + ': ' + display;
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            type: 'logarithmic',
                            title: {
                                display: true,
                                text: 'Time per Operation (ns, log scale)',
                                font: {
                                    size: 14,
                                    weight: 600
                                }
                            },
                            ticks: {
                                callback: function(value) {
                                    if (value < 1000) return value + 'ns';
                                    if (value < 1000000) return (value / 1000) + '¬µs';
                                    return (value / 1000000) + 'ms';
                                }
                            }
                        },
                        x: {
                            ticks: {
                                font: {
                                    size: 11
                                }
                            }
                        }
                    }
                }
            });
        });
    </script>
</body>
</html>